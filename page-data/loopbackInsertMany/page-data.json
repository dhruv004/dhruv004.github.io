{"componentChunkName":"component---src-templates-blog-post-index-js","path":"/loopbackInsertMany/","result":{"data":{"markdownRemark":{"html":"<p>I recently faced a challenge of inserting many records with loopback.The use case involved insertion on more than <code class=\"language-text\">100000+</code>(one hundred thousand) records.\nTo do this we will use the MongoDb driver method <code class=\"language-text\">insertMany</code>.</p>\n<p>To access this we need to use database connector.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">User</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> DbConnector <span class=\"token operator\">=</span> User<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">.</span>dataSources<span class=\"token punctuation\">.</span>db<span class=\"token punctuation\">.</span>connector<span class=\"token punctuation\">;</span>\n  DbConnector<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> db</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">insertMany</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> docs</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>docs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>With this implementation the time taken was reduced significantly.</p>\n</blockquote>","frontmatter":{"title":"InsertMany with Loopback"}}},"pageContext":{"slug":"/loopbackInsertMany/"}},"staticQueryHashes":["3649515864"]}